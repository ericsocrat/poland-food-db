<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" width="800" height="400">
  <defs>
    <linearGradient id="hGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#0d7377"/>
      <stop offset="100%" stop-color="#095456"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" rx="10" fill="#ffffff"/>

  <!-- Title bar -->
  <rect width="800" height="50" rx="10" fill="url(#hGrad)"/>
  <rect y="40" width="800" height="12" fill="url(#hGrad)"/>
  <text x="400" y="33" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="18" font-weight="700" fill="#ffffff">Scoring v3.2 — Factor Weight Breakdown</text>

  <!-- Horizontal stacked bar (full width representation) -->
  <!-- Total bar width: 700px (from x=50 to x=750), each % = 7px -->
  <text x="50" y="85" font-family="system-ui,-apple-system,sans-serif" font-size="13" font-weight="600" fill="#374151">Factor contribution (bar proportional to weight)</text>

  <!-- Sat Fat 17% = 119px -->
  <rect x="50" y="95" width="119" height="32" fill="#0d7377"/>
  <text x="109" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="10" font-weight="600" fill="#fff">Sat Fat 17%</text>

  <!-- Sugars 17% = 119px -->
  <rect x="169" y="95" width="119" height="32" fill="#0f766e"/>
  <text x="228" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="10" font-weight="600" fill="#fff">Sugars 17%</text>

  <!-- Salt 17% = 119px -->
  <rect x="288" y="95" width="119" height="32" fill="#14b8a6"/>
  <text x="347" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="10" font-weight="600" fill="#fff">Salt 17%</text>

  <!-- Trans Fat 11% = 77px -->
  <rect x="407" y="95" width="77" height="32" fill="#d4a844"/>
  <text x="445" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="10" font-weight="600" fill="#fff">Trans 11%</text>

  <!-- Calories 10% = 70px -->
  <rect x="484" y="95" width="70" height="32" fill="#b8962e"/>
  <text x="519" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="10" font-weight="600" fill="#fff">Cal 10%</text>

  <!-- Controversies 8% = 56px -->
  <rect x="554" y="95" width="56" height="32" fill="#f97316"/>
  <text x="582" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="9" font-weight="600" fill="#fff">Controv 8%</text>

  <!-- Prep Method 8% = 56px -->
  <rect x="610" y="95" width="56" height="32" fill="#ea580c"/>
  <text x="638" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="9" font-weight="600" fill="#fff">Prep 8%</text>

  <!-- Additives 7% = 49px -->
  <rect x="666" y="95" width="49" height="32" fill="#ef4444"/>
  <text x="690" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="9" font-weight="600" fill="#fff">Add 7%</text>

  <!-- Ingredient Concern 5% = 35px -->
  <rect x="715" y="95" width="35" height="32" fill="#991b1b"/>
  <text x="732" y="116" text-anchor="middle" font-family="system-ui,-apple-system,sans-serif" font-size="8" font-weight="600" fill="#fff">IC 5%</text>

  <!-- Detailed factor table -->
  <text x="50" y="165" font-family="system-ui,-apple-system,sans-serif" font-size="13" font-weight="600" fill="#374151">Factor details</text>
  <line x1="50" y1="173" x2="750" y2="173" stroke="#d1d5db" stroke-width="0.5"/>

  <!-- Table headers -->
  <text x="50" y="192" font-family="system-ui,-apple-system,sans-serif" font-size="11" font-weight="600" fill="#6b7280">FACTOR</text>
  <text x="240" y="192" font-family="system-ui,-apple-system,sans-serif" font-size="11" font-weight="600" fill="#6b7280">WEIGHT</text>
  <text x="330" y="192" font-family="system-ui,-apple-system,sans-serif" font-size="11" font-weight="600" fill="#6b7280">CEILING</text>
  <text x="480" y="192" font-family="system-ui,-apple-system,sans-serif" font-size="11" font-weight="600" fill="#6b7280">GROUP</text>
  <text x="620" y="192" font-family="system-ui,-apple-system,sans-serif" font-size="11" font-weight="600" fill="#6b7280">SCORE INPUT</text>

  <!-- Rows -->
  <rect x="50" y="200" width="700" height="22" fill="#f0fdfa"/>
  <text x="50" y="216" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Saturated Fat</text>
  <text x="240" y="216" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#0d7377">0.17</text>
  <text x="330" y="216" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">10 g</text>
  <text x="480" y="216" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Nutrition</text>
  <text x="620" y="216" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(sat_fat/10, 1) × 100</text>

  <text x="50" y="238" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Sugars</text>
  <text x="240" y="238" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#0d7377">0.17</text>
  <text x="330" y="238" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">27 g</text>
  <text x="480" y="238" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Nutrition</text>
  <text x="620" y="238" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(sugars/27, 1) × 100</text>

  <rect x="50" y="244" width="700" height="22" fill="#f0fdfa"/>
  <text x="50" y="260" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Salt</text>
  <text x="240" y="260" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#0d7377">0.17</text>
  <text x="330" y="260" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">3 g</text>
  <text x="480" y="260" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Nutrition</text>
  <text x="620" y="260" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(salt/3, 1) × 100</text>

  <text x="50" y="282" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Trans Fat</text>
  <text x="240" y="282" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#d4a844">0.11</text>
  <text x="330" y="282" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">2 g</text>
  <text x="480" y="282" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Nutrition</text>
  <text x="620" y="282" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(trans/2, 1) × 100</text>

  <rect x="50" y="288" width="700" height="22" fill="#f0fdfa"/>
  <text x="50" y="304" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Calories</text>
  <text x="240" y="304" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#d4a844">0.10</text>
  <text x="330" y="304" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">600 kcal</text>
  <text x="480" y="304" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Nutrition</text>
  <text x="620" y="304" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(cal/600, 1) × 100</text>

  <text x="50" y="326" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Controversies</text>
  <text x="240" y="326" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#f97316">0.08</text>
  <text x="330" y="326" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">serious</text>
  <text x="480" y="326" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Label</text>
  <text x="620" y="326" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">palm oil = 100</text>

  <rect x="50" y="332" width="700" height="22" fill="#f0fdfa"/>
  <text x="50" y="348" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Prep Method</text>
  <text x="240" y="348" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#f97316">0.08</text>
  <text x="330" y="348" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">deep-fried</text>
  <text x="480" y="348" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Processing</text>
  <text x="620" y="348" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">lookup table (20–100)</text>

  <text x="50" y="370" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Additives</text>
  <text x="240" y="370" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#ef4444">0.07</text>
  <text x="330" y="370" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">10 count</text>
  <text x="480" y="370" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">Ingredients</text>
  <text x="620" y="370" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">min(count/10, 1) × 100</text>

  <rect x="50" y="376" width="700" height="22" fill="#f0fdfa"/>
  <text x="50" y="392" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#1e293b">Ingredient Concern</text>
  <text x="240" y="392" font-family="system-ui,-apple-system,sans-serif" font-size="12" font-weight="600" fill="#991b1b">0.05</text>
  <text x="330" y="392" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">100 pts</text>
  <text x="480" y="392" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#374151">EFSA</text>
  <text x="620" y="392" font-family="system-ui,-apple-system,sans-serif" font-size="12" fill="#6b7280">Σ tier scores (0–3)</text>

  <!-- Border -->
  <rect width="800" height="400" rx="10" fill="none" stroke="#d1d5db" stroke-width="1"/>
</svg>
