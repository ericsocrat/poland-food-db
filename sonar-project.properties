sonar.projectKey=ericsocrat_poland-food-db
sonar.organization=ericsocrat

# This is the name and version displayed in the SonarQube UI.
sonar.projectName=poland-food-db
sonar.projectVersion=1.0

# ─── Quality Gate: focus on new code first ──────────────────────────────────
# "Clean as You Code" — block regressions on new/changed lines,
# pay down legacy debt in targeted refactor PRs.
sonar.qualitygate.wait=true
sonar.newCodePeriod.type=previous_version

# ─── Source directories ─────────────────────────────────────────────────────
# Only scan code that benefits from static analysis.
# SQL pipeline INSERT data and Supabase migrations are excluded below.
sonar.sources=frontend/src,pipeline,db/qa,db/views,enrich_ingredients.py,fetch_off_category.py,validate_eans.py,check_enrichment_identity.py,check_pipeline_structure.py

# ─── Exclusions ─────────────────────────────────────────────────────────────
# Build artifacts, generated files, and SQL data pipelines.
# SQL INSERT/VALUES scripts produce ~2k false-positive "duplicate literal"
# warnings — SQL has no constant mechanism for inline seed data.
sonar.exclusions=\
  **/__pycache__/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/.next/**,\
  **/playwright-report/**,\
  **/test-results/**,\
  **/*.test.ts,\
  **/*.test.tsx,\
  **/*.spec.ts,\
  db/pipelines/**,\
  supabase/migrations/**,\
  db/ci_post_pipeline.sql,\
  frontend/.next/**,\
  frontend/next-env.d.ts,\
  frontend/tailwind.config.ts,\
  frontend/postcss.config.mjs,\
  frontend/next.config.mjs

# ─── Test files ─────────────────────────────────────────────────────────────
sonar.tests=frontend/e2e
sonar.test.inclusions=**/*.test.ts,**/*.test.tsx,**/*.spec.ts

# ─── Language-specific settings ─────────────────────────────────────────────
sonar.python.version=3.12
sonar.javascript.node.maxspace=4096

# ─── Encoding ───────────────────────────────────────────────────────────────
sonar.sourceEncoding=UTF-8
